{"version":3,"sources":["reducers/userSettingsReducer.ts","reducers/currencyRatesReducer.ts","actions/itemsActions.ts","reducers/itemsReducer.ts","reducers/alertsReducer.ts","store/store.ts","actions/userSettingsActions.ts","actions/currencyRatesActions.ts","actions/alertsActions.ts","api/exchange-rates-api/fetchRates.ts","components/Alerts/Alerts.tsx","components/AppBar/NavigationItem.tsx","components/AppBar/Navigator.tsx","models/Currency.ts","components/AppBar/UserPreferredCurrencySelector.tsx","components/AppBar/MainAppBar.tsx","utils/getCurrencySymbol.ts","components/ItemsSummary/ItemsList/DeliveryDate.tsx","custom-hooks/useConvertCurrency.ts","components/ItemsSummary/ItemsList/ItemCard.tsx","components/ItemsSummary/ItemsList/ItemsList.tsx","custom-hooks/useGroupItemsByStore.ts","components/ItemsSummary/StoresAggregations/StoreAggregationCard.tsx","components/ItemsSummary/StoresAggregations/StoresAggregations.tsx","components/ItemsSummary/ItemsSummary.tsx","components/NewItem/StoreSelector.tsx","components/NewItem/NewItemForm.tsx","components/NewItem/AddItemDialog.tsx","components/Pages/BoughtPage.tsx/AddItemFab.tsx","components/Pages/BoughtPage.tsx/BoughtPage.tsx","components/Pages/RecievedPage/RecievedPage.tsx","App.tsx","index.tsx"],"names":["initialState","preferredCurrency","intialState","rates","ILS","USD","setItemRecievedStatus","itemId","recieved","type","items","alerts","rootReducer","combineReducers","userSettings","state","action","preferredCurrencyAction","currency","currencyRates","itemsState","item","map","x","id","alertsState","alert","alertId","filter","persistConfig","key","storage","persistedReducer","persistReducer","store","createStore","applyMiddleware","logger","checkIfFetchRatesAlertIsPresent","persistStore","getState","some","fetchRatesLoop","a","dispatch","process","fetch","response","json","data","message","severity","fetchInterval","Number","setTimeout","useStyles","makeStyles","theme","createStyles","root","position","bottom","spacing","left","Alerts","useSelector","classes","className","Alert","AlertTitle","NavigationItem","props","icon","route","title","onClick","location","useLocation","history","useHistory","isSelected","pathname","ListItem","button","selected","push","ListItemIcon","ListItemText","primary","list","width","Navigator","open","onClose","Drawer","anchor","List","currencyTypes","Object","freeze","select","marginLeft","label","marginTop","marginBottom","color","selectIcon","selectText","UserPreferredCurrencySelector","useDispatch","Grid","container","direction","Typography","Select","value","disableUnderline","onChange","e","target","MenuItem","toolbarItem","offset","mixins","toolbar","MainAppBar","useState","navigationOpen","setNavigationOpen","AppBar","Toolbar","justify","IconButton","edge","variant","getTitle","getCurrencySymbol","DeliveryDate","React","memo","dateISO","toColor","date","Date","setHours","dateUnixTimestamp","getTime","todaysDate","todaysDateUnixTimestamp","text","moment","format","style","useConvertCurrency","price","priceCurrency","desiredCurrency","targetCurrency","minWidth","margin","storeLabel","deliveredIcon","ItemCard","convertCurrency","name","deliveryDateISO","priceInPreferredCurrency","Card","elevation","CardContent","toFixed","CardActions","Button","ItemsList","GridList","groupItemsByStore","itemsByStore","forEach","maxWidth","content","paddingBottom","StoreAggregationCard","totalPrice","reduce","prev","current","preferredCurrencySymbol","gutterBottom","Divider","length","StoresAggregations","itemsGroupedByStore","useMemo","useGroupItemsByStore","keys","ItemsSummary","tabValue","setTabValue","orderedByDeliveryDate","sort","b","TabContext","Tabs","newValue","Tab","TabPanel","createFilterOptions","StoreSelector","stores","Autocomplete","options","selectOnFocus","clearOnBlur","filterOptions","params","filtered","inputValue","renderInput","TextField","freeSolo","field","currencySelector","NewItemForm","storeItem","InputLabelProps","shrink","toISOString","closeButton","right","top","palette","grey","AddItemDialog","newItem","setNewItem","enableAdding","Dialog","disableBackdropClick","DialogTitle","disableTypography","DialogContent","dividers","DialogActions","disabled","finalItem","uuid","fab","fabIcon","marginRight","AddItemFab","dialogOpen","setDialogOpen","Fab","BoughtPage","unrecievedItems","RecievedPage","recievedItems","App","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.34bfcd07.chunk.js","sourcesContent":["import { Action } from 'redux'\nimport { SET_USER_PREFERRED_CURRENCY, SetUserPreferredCurrenyAction } from '../actions/userSettingsActions'\nimport { Currency } from '../models/Currency'\n\nexport interface UserSettings {\n    preferredCurrency: Currency\n}\n\nconst initialState: UserSettings = {\n    preferredCurrency: 'USD'\n}\n\nexport const userSettingsReducer = (state: UserSettings = initialState, action: Action): UserSettings => {\n    switch (action.type) {\n        case SET_USER_PREFERRED_CURRENCY:\n            const preferredCurrencyAction = action as SetUserPreferredCurrenyAction\n            return {\n                ...state,\n                preferredCurrency: preferredCurrencyAction.currency\n            }\n        default:\n            return state\n    }\n}","import { Action } from \"redux\";\nimport { UPDATE_CURRENCY_RATES, UpdateCurrencyRatesAction } from \"../actions/currencyRatesActions\";\nimport { Currency } from \"../models/Currency\";\n\nexport type CurrencyRates = Record<Currency, number>\n\nexport interface CurrencyRatesState {\n    rates: CurrencyRates\n}\n\nconst intialState: CurrencyRatesState = {\n    rates: {\n        ILS: 1,\n        USD: 1\n    }\n}\n\nexport const currencyRatesReducer = (state: CurrencyRatesState = intialState, action: Action): CurrencyRatesState => {\n    switch (action.type) {\n        case UPDATE_CURRENCY_RATES: {\n            const { rates } = action as UpdateCurrencyRatesAction\n\n            return {\n                ...state,\n                rates\n            }\n        }\n        default:\n            return state\n    }\n}","import { Action } from \"redux\";\nimport { StoreItem } from \"../models/StoreItem\";\n\nexport const ADD_NEW_ITEM = 'ADD_NEW_ITEM'\n\nexport interface AddNewItemAction extends Action<typeof ADD_NEW_ITEM> {\n    item: StoreItem\n}\n\nexport const addNewItem = (item: StoreItem): AddNewItemAction => ({\n    type: ADD_NEW_ITEM,\n    item\n})\n\n\nexport const SET_ITEM_RECIEVED_STATUS = 'SET_ITEM_RECIEVED_STATUS'\n\nexport interface SetItemRecievedStatusAction extends Action<typeof SET_ITEM_RECIEVED_STATUS> {\n    itemId: string\n    recieved: boolean\n}\n\nexport const setItemRecievedStatus = (itemId: string, recieved: boolean): SetItemRecievedStatusAction => ({\n    type: SET_ITEM_RECIEVED_STATUS,\n    itemId,\n    recieved\n})","import { StoreItem } from \"../models/StoreItem\";\nimport { Action } from \"redux\";\nimport { ADD_NEW_ITEM, AddNewItemAction, SET_ITEM_RECIEVED_STATUS, SetItemRecievedStatusAction } from \"../actions/itemsActions\";\n\nexport interface ItemsState {\n    items: StoreItem[]\n}\n\nconst initialState: ItemsState = {\n    items: []\n}\n\nexport const itemsReducer = (state: ItemsState = initialState, action: Action): ItemsState => {\n    switch (action.type) {\n        case ADD_NEW_ITEM: {\n            const { item } = action as AddNewItemAction\n\n            return {\n                ...state,\n                items: [...state.items, item]\n            }\n        }\n        case SET_ITEM_RECIEVED_STATUS: {\n            const { recieved, itemId } = action as SetItemRecievedStatusAction\n\n            return {\n                ...state,\n                items: state.items.map(x => x.id === itemId ? { ...x, recieved } : x)\n            }\n        }\n        default:\n            return state\n    }\n}","import { Action } from \"redux\"\nimport { ADD_ALERT, AddAlertAction, REMOVE_ALERT, RemoveAlertAction } from \"../actions/alertsActions\"\n\nexport interface GlobalAlert {\n    id: string\n    severity: 'error' | 'warning'\n    message: string\n}\n\nexport interface AlertsState {\n    alerts: GlobalAlert[]\n}\n\nconst initialState: AlertsState = {\n    alerts: []\n}\n\nexport const alertsReducer = (state: AlertsState = initialState, action: Action): AlertsState => {\n    switch (action.type) {\n        case ADD_ALERT: {\n            const { alert } = action as AddAlertAction\n\n            return {\n                ...state,\n                alerts: [...state.alerts, alert]\n            }\n        }\n        case REMOVE_ALERT: {\n            const { alertId } = action as RemoveAlertAction\n\n            return {\n                ...state,\n                alerts: state.alerts.filter(x => x.id !== alertId)\n            }\n        }\n        default:\n            return state\n    }\n}","import { applyMiddleware, combineReducers, createStore } from \"redux\";\nimport logger from \"redux-logger\";\nimport { persistReducer, persistStore } from 'redux-persist';\nimport storage from 'redux-persist/lib/storage';\nimport { UserSettings, userSettingsReducer } from \"../reducers/userSettingsReducer\";\nimport { CurrencyRatesState, currencyRatesReducer } from \"../reducers/currencyRatesReducer\";\nimport { ItemsState, itemsReducer } from \"../reducers/itemsReducer\";\nimport { AlertsState, alertsReducer } from \"../reducers/alertsReducer\";\n\nexport interface AppState {\n    userSettings: UserSettings,\n    currencyRates: CurrencyRatesState,\n    itemsState: ItemsState\n    alertsState: AlertsState\n}\n\nconst rootReducer = combineReducers<AppState>({\n    userSettings: userSettingsReducer,\n    currencyRates: currencyRatesReducer,\n    itemsState: itemsReducer,\n    alertsState: alertsReducer\n})\n\nconst persistConfig = {\n    key: 'root',\n    storage,\n}\nconst persistedReducer = persistReducer(persistConfig, rootReducer)\n\nexport const store = createStore(persistedReducer, applyMiddleware(logger))\nexport const persistor = persistStore(store)\n","import { Action } from \"redux\";\nimport { Currency } from \"../models/Currency\";\n\nexport const SET_USER_PREFERRED_CURRENCY = 'SET_USER_PREFERRED_CURRENCY'\n\nexport interface SetUserPreferredCurrenyAction extends Action<typeof SET_USER_PREFERRED_CURRENCY> {\n    currency: Currency\n}\n\nexport const setUserPreferredCurrency = (currency: Currency): SetUserPreferredCurrenyAction => ({\n    type: SET_USER_PREFERRED_CURRENCY,\n    currency\n})","import { Action } from \"redux\";\nimport { CurrencyRates } from \"../reducers/currencyRatesReducer\";\n\nexport const UPDATE_CURRENCY_RATES = 'UPDATE_CURRENCY_RATES'\n\nexport interface UpdateCurrencyRatesAction extends Action<typeof UPDATE_CURRENCY_RATES> {\n    rates: CurrencyRates\n}\n\nexport const updateCurrencyRates = (rates: CurrencyRates): UpdateCurrencyRatesAction => ({\n    type: UPDATE_CURRENCY_RATES,\n    rates\n})","import { Action } from \"redux\";\nimport { GlobalAlert } from \"../reducers/alertsReducer\";\n\nexport const ADD_ALERT = 'ADD_ALERT'\n\nexport interface AddAlertAction extends Action<typeof ADD_ALERT> {\n    alert: GlobalAlert\n}\n\nexport const addAlert = (alert: GlobalAlert): AddAlertAction => ({\n    type: ADD_ALERT,\n    alert\n})\n\n\nexport const REMOVE_ALERT = 'REMOVE_ALERT'\n\nexport interface RemoveAlertAction extends Action<typeof REMOVE_ALERT> {\n    alertId: string\n}\n\nexport const removeAlert = (alertId: string): RemoveAlertAction => ({\n    type: REMOVE_ALERT,\n    alertId\n})\n\n\nexport const ALERT_FAILED_TO_FETCH_EXCHANGE_RATES_ID = 'ALERT_FAILED_TO_FETCH_EXCHANGE_RATES'\n\nexport const alertFailedToFetchExchangeRates = (): AddAlertAction => addAlert({\n    id: ALERT_FAILED_TO_FETCH_EXCHANGE_RATES_ID,\n    message: 'An error occured while trying to fetch exchange rates, Please check your connectivity(Prices might not be up to date)',\n    severity: 'warning'\n})\n\nexport const turnOffFailedToFetchExchangeRates = (): RemoveAlertAction => removeAlert(ALERT_FAILED_TO_FETCH_EXCHANGE_RATES_ID)","import { store } from \"../../store/store\"\nimport { updateCurrencyRates } from \"../../actions/currencyRatesActions\"\nimport { CurrencyRates } from \"../../reducers/currencyRatesReducer\"\nimport { ALERT_FAILED_TO_FETCH_EXCHANGE_RATES_ID, alertFailedToFetchExchangeRates, turnOffFailedToFetchExchangeRates } from \"../../actions/alertsActions\"\n\ninterface ExchangeRatesApiResponse {\n    rates: CurrencyRates\n}\n\nconst checkIfFetchRatesAlertIsPresent = () => {\n    const { alerts } = store.getState().alertsState\n    return alerts.some(x => x.id === ALERT_FAILED_TO_FETCH_EXCHANGE_RATES_ID)\n}\n\nexport const fetchRatesLoop = async () => {\n    const { dispatch } = store\n\n    try {\n        const url = process.env.REACT_APP_EXCHANGE_RATES_URL as string\n        const response = await fetch(url)\n        const data = await response.json() as ExchangeRatesApiResponse\n\n        if (checkIfFetchRatesAlertIsPresent()) {\n            dispatch(turnOffFailedToFetchExchangeRates())\n        }\n\n        dispatch(updateCurrencyRates(data.rates))\n    } catch {\n        if (!checkIfFetchRatesAlertIsPresent()) {\n            dispatch(alertFailedToFetchExchangeRates())\n        }\n    }\n\n    const fetchInterval = Number(process.env.REACT_APP_EXCHANGE_RATES_API_FETCH_INTERVAL_SECONDS) * 1000\n    setTimeout(fetchRatesLoop, fetchInterval)\n}","import { createStyles, makeStyles, Theme } from '@material-ui/core';\nimport { Alert, AlertTitle } from '@material-ui/lab';\nimport React from 'react';\nimport { useSelector } from 'react-redux';\nimport { AlertsState } from '../../reducers/alertsReducer';\nimport { AppState } from '../../store/store';\n\nconst useStyles = makeStyles((theme: Theme) => createStyles({\n    root: {\n        position: 'absolute',\n        bottom: theme.spacing(2),\n        left: theme.spacing(2)\n    }\n}))\n\nexport const Alerts = () => {\n    const { alerts } = useSelector<AppState, AlertsState>(x => x.alertsState)\n    const classes = useStyles()\n\n    return <div className={classes.root}>\n        {alerts.map(x => <Alert severity={x.severity}>\n            <AlertTitle>Warning</AlertTitle>\n            {x.message}\n        </Alert>)}\n    </div>\n}","import { ListItem, ListItemIcon, ListItemText } from '@material-ui/core';\nimport React, { ReactElement } from 'react';\nimport { useHistory, useLocation } from 'react-router-dom';\n\ninterface Props {\n    title: string\n    icon: ReactElement\n    route: string\n    onClick(): void\n}\n\nexport const NavigationItem = (props: Props) => {\n    const { icon, route, title, onClick } = props\n    const location = useLocation()\n    const history = useHistory()\n\n    const isSelected = route === location.pathname\n    const navigate = () => {\n        history.push(route)\n        onClick()\n    }\n\n    return <ListItem button selected={isSelected} onClick={navigate}>\n        <ListItemIcon>{icon}</ListItemIcon>\n        <ListItemText primary={title} />\n    </ListItem>\n}","import { createStyles, Drawer, List, makeStyles, Theme } from '@material-ui/core';\nimport PlaylistAddCheckRoundedIcon from '@material-ui/icons/PlaylistAddCheckRounded';\nimport ShoppingCartRoundedIcon from '@material-ui/icons/ShoppingCartRounded';\nimport React from 'react';\nimport { NavigationItem } from './NavigationItem';\n\nconst useStyles = makeStyles((theme: Theme) => createStyles({\n    list: {\n        width: theme.spacing(32)\n    }\n}))\n\ninterface Props {\n    open: boolean\n    onClose(): void\n}\n\nexport const Navigator = (props: Props) => {\n    const { open, onClose } = props\n    const classes = useStyles()\n\n    return <Drawer anchor='left' open={open} onClose={onClose}>\n        <List className={classes.list}>\n            <NavigationItem icon={<ShoppingCartRoundedIcon />} title=\"Bought\" route=\"/bought\" onClick={onClose} />\n            <NavigationItem icon={<PlaylistAddCheckRoundedIcon />} title=\"Recieved\" route=\"/recieved\" onClick={onClose} />\n        </List>\n    </Drawer>\n}","export type Currency = 'USD' | 'ILS'\n\nexport const currencyTypes: Currency[] = ['USD', 'ILS']\nObject.freeze(currencyTypes)","import { createStyles, Grid, makeStyles, MenuItem, Select, Theme, Typography } from '@material-ui/core'\nimport React from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { setUserPreferredCurrency } from '../../actions/userSettingsActions'\nimport { Currency, currencyTypes } from '../../models/Currency'\nimport { UserSettings } from '../../reducers/userSettingsReducer'\nimport { AppState } from '../../store/store'\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        select: {\n            marginLeft: theme.spacing(1),\n        },\n        label: {\n            marginTop: 'auto',\n            marginBottom: 'auto',\n            color: 'greenyellow'\n        },\n        selectIcon: {\n            color: 'white'\n        },\n        selectText: {\n            color: 'white'\n        }\n    }),\n);\n\ninterface Props {\n    className?: string\n}\n\nexport const UserPreferredCurrencySelector = (props: Props) => {\n    const { className } = props\n    const userSettings = useSelector<AppState, UserSettings>(x => x.userSettings)\n    const classes = useStyles()\n    const dispatch = useDispatch()\n\n    return <Grid className={className} container direction='row'>\n        <Grid item className={classes.label}>\n            <Typography>Select Preferable Currency</Typography>\n        </Grid>\n        <Grid item className={classes.select}>\n            <Select value={userSettings.preferredCurrency}\n                classes={{ icon: classes.selectIcon, select: classes.selectText }}\n                disableUnderline\n                onChange={e => dispatch(setUserPreferredCurrency(e.target.value as Currency))}>\n                {currencyTypes.map(x => <MenuItem key={x} value={x}>{x}</MenuItem>)}\n            </Select>\n        </Grid>\n    </Grid>\n}","import { AppBar, createStyles, IconButton, makeStyles, Theme, Toolbar, Typography, Grid } from '@material-ui/core';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport React, { Fragment, useState } from 'react';\nimport { Navigator } from './Navigator';\nimport { useLocation } from 'react-router-dom';\nimport { UserPreferredCurrencySelector } from './UserPreferredCurrencySelector';\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        toolbarItem: {\n            marginTop: 'auto',\n            marginBottom: 'auto'\n        },\n        icon: {\n            marginTop: 'auto',\n            marginBottom: 'auto',\n            color: 'white'\n        },\n        offset: theme.mixins.toolbar\n    }),\n);\n\nconst getTitle = (location: string) => {\n    switch (location) {\n        case '/recieved':\n            return 'Recieved'\n        case '/bought':\n        case '/':\n        default:\n            return 'Bought'\n    }\n}\n\nexport const MainAppBar = () => {\n    const classes = useStyles()\n    const [navigationOpen, setNavigationOpen] = useState(false)\n    const location = useLocation()\n\n    return <Fragment>\n        <AppBar position='fixed'>\n            <Toolbar>\n                <Grid container direction='row' justify='space-between'>\n                    <IconButton edge=\"start\" className={classes.icon} onClick={() => setNavigationOpen(true)}>\n                        <MenuIcon />\n                    </IconButton>\n                    <Typography className={classes.toolbarItem} variant='h5'>{getTitle(location.pathname)}</Typography>\n                    <Grid item className={classes.toolbarItem}>\n                        <UserPreferredCurrencySelector />\n                    </Grid>\n                </Grid>\n            </Toolbar>\n        </AppBar>\n        <div className={classes.offset} />\n        <Navigator open={navigationOpen} onClose={() => setNavigationOpen(false)} />\n    </Fragment>\n}   ","import { Currency } from \"../models/Currency\";\n\nexport const getCurrencySymbol = (currency: Currency) => {\n    switch (currency) {\n        case 'USD':\n            return '$'\n        case 'ILS':\n            return '₪'\n    }\n}","import { Typography } from '@material-ui/core'\nimport moment from 'moment'\nimport React from 'react'\n\ninterface Props {\n    dateISO: string\n    toColor?: boolean\n}\n\nexport const DeliveryDate = React.memo((props: Props) => {\n    const { dateISO, toColor } = props\n    const date = new Date(dateISO)\n    date.setHours(0, 0, 0, 0)\n    const dateUnixTimestamp = date.getTime()\n\n    const todaysDate = new Date()\n    todaysDate.setHours(0, 0, 0, 0)\n    const todaysDateUnixTimestamp = todaysDate.getTime()\n\n\n    let color\n    if (toColor) {\n        if (dateUnixTimestamp < todaysDateUnixTimestamp) {\n            color = 'red'\n        } else if (dateUnixTimestamp === todaysDateUnixTimestamp) {\n            color = 'orange'\n        } else {\n            color = 'green'\n        }\n    }\n\n    const text = moment(date).format('DD-MM-YYYY')\n\n    return <Typography style={{ color }}>{text}</Typography>\n})","import { useSelector } from \"react-redux\"\nimport { Currency } from \"../models/Currency\"\nimport { CurrencyRatesState } from \"../reducers/currencyRatesReducer\"\nimport { AppState } from \"../store/store\"\nimport { UserSettings } from \"../reducers/userSettingsReducer\"\n\ntype ConvertToCurrency = (price: number, priceCurrency: Currency, desiredCurrency?: Currency) => number\n\nexport const useConvertCurrency = (): ConvertToCurrency => {\n    const { rates } = useSelector<AppState, CurrencyRatesState>(x => x.currencyRates)\n    const { preferredCurrency } = useSelector<AppState, UserSettings>(x => x.userSettings)\n\n    return (price: number, priceCurrency: Currency, desiredCurrency?: Currency): number => {\n        const targetCurrency = desiredCurrency ?? preferredCurrency\n        const priceInBaseCurrency = price / rates[priceCurrency]\n\n        return priceInBaseCurrency * rates[targetCurrency]\n    }\n}","import { Button, Card, CardActions, CardContent, createStyles, Grid, makeStyles, Theme, Typography } from '@material-ui/core'\nimport DoneOutlineRoundedIcon from '@material-ui/icons/DoneOutlineRounded'\nimport React from 'react'\nimport { StoreItem } from '../../../models/StoreItem'\nimport { getCurrencySymbol } from '../../../utils/getCurrencySymbol'\nimport { DeliveryDate } from './DeliveryDate'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { setItemRecievedStatus } from '../../../actions/itemsActions'\nimport SentimentDissatisfiedRoundedIcon from '@material-ui/icons/SentimentDissatisfiedRounded';\nimport { useConvertCurrency } from '../../../custom-hooks/useConvertCurrency'\nimport { AppState } from '../../../store/store'\nimport { UserSettings } from '../../../reducers/userSettingsReducer'\n\nconst useStyles = makeStyles((theme: Theme) => createStyles({\n    root: {\n        minWidth: theme.spacing(40),\n        margin: theme.spacing(2)\n    },\n    date: {\n        marginTop: theme.spacing(0.5)\n    },\n    storeLabel: {\n        marginTop: 'auto',\n        marginBottom: 'auto',\n        marginLeft: theme.spacing(1)\n    },\n    deliveredIcon: {\n        marginLeft: theme.spacing(1)\n    }\n}))\n\ninterface Props {\n    item: StoreItem\n}\n\nexport const ItemCard = (props: Props) => {\n    const { item } = props\n    const classes = useStyles()\n    const { preferredCurrency } = useSelector<AppState, UserSettings>(x => x.userSettings)\n    const dispatch = useDispatch()\n    const convertCurrency = useConvertCurrency()\n    const { id, recieved, name, store, price, priceCurrency, deliveryDateISO } = item\n\n    const priceInPreferredCurrency = convertCurrency(price, priceCurrency)\n\n    return <Card className={classes.root} elevation={4}>\n        <CardContent>\n            <Grid container direction='row' justify='space-between'>\n                <Grid item>\n                    <Typography variant='subtitle1'>{name}</Typography>\n                    <Typography variant='subtitle2'>{priceInPreferredCurrency.toFixed(2)}{getCurrencySymbol(preferredCurrency)}</Typography>\n                </Grid>\n                <Grid item className={classes.date}>\n                    <DeliveryDate dateISO={deliveryDateISO} toColor={!recieved} />\n                </Grid>\n            </Grid>\n        </CardContent>\n        <CardActions>\n            <Grid container direction='row' justify='space-between'>\n                <Grid item className={classes.storeLabel}>\n                    <Typography variant='subtitle2'>From {store}</Typography>\n                </Grid>\n                <Grid item>\n                    {recieved ?\n                        <Button variant='outlined' onClick={() => dispatch(setItemRecievedStatus(id, false))}>\n                            Still waiting\n                            <SentimentDissatisfiedRoundedIcon className={classes.deliveredIcon} />\n                        </Button>\n                        :\n                        <Button variant='outlined' onClick={() => dispatch(setItemRecievedStatus(id, true))}>\n                            Recieved\n                            <DoneOutlineRoundedIcon className={classes.deliveredIcon} />\n                        </Button>}\n                </Grid>\n            </Grid>\n        </CardActions>\n    </Card>\n}","import { GridList } from '@material-ui/core'\nimport React from 'react'\nimport { StoreItem } from '../../../models/StoreItem'\nimport { ItemCard } from './ItemCard'\n\ninterface Props {\n    items: StoreItem[]\n}\n\nexport const ItemsList = (props: Props) => {\n    const { items } = props\n\n    return <GridList>\n        {items.map(x => <ItemCard key={x.id} item={x} />)}\n    </GridList>\n}","import { StoreItem } from \"../models/StoreItem\"\nimport { useMemo } from \"react\"\n\ninterface ItemsByStore {\n    [storeName: string]: StoreItem[]\n}\n\nexport const groupItemsByStore = (items: StoreItem[]): ItemsByStore => {\n    const itemsByStore: ItemsByStore = {}\n\n    items.forEach(x => {\n        if (!itemsByStore[x.store]) {\n            itemsByStore[x.store] = []\n        }\n\n        itemsByStore[x.store].push(x)\n    })\n\n    return itemsByStore\n}\n\nexport const useGroupItemsByStore = (items: StoreItem[]): ItemsByStore => {\n    const itemsByStore = useMemo(() => groupItemsByStore(items), [items])\n\n    return itemsByStore\n}","import { Card, CardActions, CardContent, createStyles, Divider, Grid, makeStyles, Theme, Typography } from '@material-ui/core'\nimport React, { Fragment } from 'react'\nimport { StoreItem } from '../../../models/StoreItem'\nimport { getCurrencySymbol } from '../../../utils/getCurrencySymbol'\nimport { useConvertCurrency } from '../../../custom-hooks/useConvertCurrency'\nimport { useSelector } from 'react-redux'\nimport { AppState } from '../../../store/store'\nimport { UserSettings } from '../../../reducers/userSettingsReducer'\n\nconst useStyles = makeStyles((theme: Theme) => createStyles({\n    root: {\n        minWidth: theme.spacing(40),\n        maxWidth: theme.spacing(80),\n        margin: theme.spacing(2),\n    },\n    content: {\n        paddingBottom: theme.spacing(1)\n    }\n}))\n\ninterface Props {\n    store: string\n    items: StoreItem[]\n}\n\nexport const StoreAggregationCard = (props: Props) => {\n    const { items, store } = props\n    const classes = useStyles()\n    const convertCurrency = useConvertCurrency()\n    const { preferredCurrency } = useSelector<AppState, UserSettings>(x => x.userSettings)\n\n    const totalPrice = items.reduce((prev, current) => prev + convertCurrency(current.price, current.priceCurrency), 0)\n    const preferredCurrencySymbol = getCurrencySymbol(preferredCurrency)\n\n    return <Card className={classes.root} elevation={4}>\n        <CardContent classes={{ root: classes.content }}>\n            <Typography gutterBottom variant='h6'>{store}</Typography>\n            {items.map(x => <Fragment key={x.id}>\n                <Grid container direction='row' justify='space-between'>\n                    <Grid item>\n                        <Typography variant='subtitle2'>{x.name}</Typography>\n                    </Grid>\n                    <Grid item>\n                        <Typography variant='caption'>{convertCurrency(x.price, x.priceCurrency).toFixed(2)}{preferredCurrencySymbol}</Typography>\n                    </Grid>\n                </Grid>\n            </Fragment>)}\n        </CardContent>\n        <Divider />\n        <CardActions>\n            <Grid container direction='row' justify='space-between'>\n                <Grid item>\n                    <Typography>Total of {items.length} items</Typography>\n                </Grid>\n                <Grid item>\n                    <Typography>Total price: {totalPrice.toFixed(2)}{preferredCurrencySymbol}</Typography>\n                </Grid>\n            </Grid>\n        </CardActions>\n    </Card>\n}","import React, { Fragment } from 'react'\nimport { StoreItem } from '../../../models/StoreItem'\nimport { useGroupItemsByStore } from '../../../custom-hooks/useGroupItemsByStore'\nimport { StoreAggregationCard } from './StoreAggregationCard'\n\ninterface Props {\n    items: StoreItem[]\n}\n\nexport const StoresAggregations = (props: Props) => {\n    const { items } = props\n    const itemsGroupedByStore = useGroupItemsByStore(items)\n\n    return <Fragment>\n        {Object.keys(itemsGroupedByStore).map(x => <StoreAggregationCard key={x} store={x} items={itemsGroupedByStore[x]} />)}\n    </Fragment>\n}","import { AppBar, makeStyles, Tab, Tabs, Theme } from '@material-ui/core';\nimport TabContext from '@material-ui/lab/TabContext';\nimport TabPanel from '@material-ui/lab/TabPanel';\nimport React, { useState } from 'react';\nimport { ItemsList } from './ItemsList/ItemsList';\nimport { StoresAggregations } from './StoresAggregations/StoresAggregations';\nimport { StoreItem } from '../../models/StoreItem';\n\nconst useStyles = makeStyles((theme: Theme) => ({\n    root: {\n        width: '100%'\n    },\n}));\n\nconst LIST_TAB = 'list'\nconst STORE_AGGREGATION_TAB = 'stores-aggregations'\n\ntype TabValue = typeof LIST_TAB | typeof STORE_AGGREGATION_TAB\n\ninterface Props {\n    items: StoreItem[]\n}\n\nexport const ItemsSummary = (props: Props) => {\n    const { items } = props\n    const [tabValue, setTabValue] = useState<TabValue>('list')\n    const classes = useStyles()\n    const orderedByDeliveryDate = items.sort((a, b) => new Date(a.deliveryDateISO).getTime() - new Date(b.deliveryDateISO).getTime())\n\n    return <div className={classes.root}>\n        <TabContext value={tabValue}>\n            <AppBar position=\"static\">\n                <Tabs variant='fullWidth' value={tabValue} onChange={(e, newValue: TabValue) => setTabValue(newValue)}>\n                    <Tab label='List' value={LIST_TAB} />\n                    <Tab label='Stores Aggregations' value={STORE_AGGREGATION_TAB} />\n                </Tabs>\n            </AppBar>\n            <TabPanel value={LIST_TAB}>\n                <ItemsList items={orderedByDeliveryDate} />\n            </TabPanel>\n            <TabPanel value={STORE_AGGREGATION_TAB}>\n                <StoresAggregations items={orderedByDeliveryDate} />\n            </TabPanel>\n        </TabContext>\n    </div >\n}","import { TextField } from '@material-ui/core';\nimport Autocomplete, { createFilterOptions } from '@material-ui/lab/Autocomplete';\nimport React, { useMemo } from 'react';\nimport { groupItemsByStore } from '../../custom-hooks/useGroupItemsByStore';\nimport { useSelector } from 'react-redux';\nimport { AppState } from '../../store/store';\nimport { ItemsState } from '../../reducers/itemsReducer';\n\ninterface Props {\n    value?: string\n    onChange(value: string | null): void\n    classes?: {\n        root?: string\n    }\n}\n\nconst filter = createFilterOptions<string>();\n\nexport const StoreSelector = (props: Props) => {\n    const { value, onChange, classes } = props\n    const { items } = useSelector<AppState, ItemsState>(x => x.itemsState)\n\n    const stores = useMemo(() => {\n        const itemsByStore = groupItemsByStore(items)\n        return Object.keys(itemsByStore)\n    }, [items])\n\n    return <Autocomplete value={value}\n        onChange={(e, newValue) => {\n            onChange(newValue)\n        }}\n        options={stores}\n        selectOnFocus\n        clearOnBlur\n        filterOptions={(options, params) => {\n            const filtered = filter(options, params)\n\n            if (filtered.length) {\n                return filtered\n            } else {\n                const firstTimeAddingAnItem = !stores.length && !params.inputValue\n                if (firstTimeAddingAnItem) {\n                    return ['Start typing to add a new store']\n                } else {\n                    return [params.inputValue]\n                }\n            }\n\n        }}\n        renderInput={(params) => <TextField {...params} classes={classes} label=\"Select Store\" variant='outlined' />}\n        freeSolo />\n}","import { createStyles, Grid, makeStyles, MenuItem, Select, TextField, Theme } from '@material-ui/core'\nimport React from 'react'\nimport { Currency, currencyTypes } from '../../models/Currency'\nimport { StoreItem } from '../../models/StoreItem'\nimport { StoreSelector } from './StoreSelector'\n\nconst useStyles = makeStyles((theme: Theme) => createStyles({\n    field: {\n        marginTop: theme.spacing(2),\n    },\n    currencySelector: {\n        marginLeft: theme.spacing(1)\n    }\n}))\n\ninterface Props {\n    storeItem: Partial<StoreItem>\n    onChange(store: Partial<StoreItem>): void\n}\n\nexport const NewItemForm = (props: Props) => {\n    const { onChange, storeItem } = props\n    const classes = useStyles()\n\n    return <Grid container direction='column'>\n        <TextField label='Name' variant='outlined' value={storeItem.name} onChange={e => onChange({ name: e.target.value })} />\n        <StoreSelector value={storeItem.store}\n            classes={{ root: classes.field }}\n            onChange={store => onChange({ store: store ?? '' })} />\n        <Grid container className={classes.field} item direction='row'>\n            <TextField classes={{}}\n                label='Price'\n                variant='outlined'\n                type='number'\n                value={storeItem.price}\n                onChange={e => onChange({ price: Number(e.target.value) })} />\n            <Select className={classes.currencySelector}\n                value={storeItem.priceCurrency}\n                onChange={x => onChange({ priceCurrency: x.target.value as Currency })}>\n                {currencyTypes.map(x => <MenuItem value={x} key={x}>{x}</MenuItem>)}\n            </Select>\n        </Grid>\n        <TextField classes={{ root: classes.field }} label='Estimated Delivery Date'\n            type='date'\n            variant='outlined'\n            InputLabelProps={{\n                shrink: true,\n            }}\n            onChange={e => onChange({ deliveryDateISO: new Date(e.target.value).toISOString() })} />\n    </Grid>\n}","import { Button, createStyles, Dialog, DialogActions, DialogContent, DialogTitle, IconButton, makeStyles, Theme, Typography } from '@material-ui/core';\nimport CloseIcon from '@material-ui/icons/Close';\nimport React, { useState } from 'react';\nimport { NewItemForm } from './NewItemForm';\nimport { StoreItem } from '../../models/StoreItem';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { AppState } from '../../store/store';\nimport { UserSettings } from '../../reducers/userSettingsReducer';\nimport { addNewItem } from '../../actions/itemsActions';\nimport { v4 as uuid } from 'uuid';\n\nconst useStyles = makeStyles((theme: Theme) => createStyles({\n    closeButton: {\n        position: \"absolute\",\n        right: theme.spacing(1),\n        top: theme.spacing(1),\n        color: theme.palette.grey[500]\n    }\n}))\n\ninterface Props {\n    open: boolean\n    onClose(): void\n}\n\nexport const AddItemDialog = (props: Props) => {\n    const { open, onClose } = props\n    const userSettings = useSelector<AppState, UserSettings>(x => x.userSettings)\n    const [newItem, setNewItem] = useState<Partial<StoreItem>>({ priceCurrency: userSettings.preferredCurrency })\n    const classes = useStyles()\n    const dispatch = useDispatch()\n\n    const enableAdding = newItem.name && newItem.deliveryDateISO && newItem.price && newItem.priceCurrency && newItem.store\n\n    const addItem = () => {\n        if (newItem.name && newItem.deliveryDateISO && newItem.price && newItem.priceCurrency && newItem.store) {\n            const finalItem: StoreItem = {\n                name: newItem.name,\n                store: newItem.store,\n                price: newItem.price,\n                priceCurrency: newItem.priceCurrency,\n                deliveryDateISO: newItem.deliveryDateISO,\n                recieved: false,\n                id: uuid()\n            }\n            dispatch(addNewItem(finalItem))\n            onClose()\n        }\n    }\n\n    return <Dialog open={open} disableBackdropClick onClose={onClose}>\n        <DialogTitle disableTypography>\n            <Typography variant='h6'>New Item</Typography>\n            <IconButton className={classes.closeButton} onClick={onClose}>\n                <CloseIcon />\n            </IconButton>\n        </DialogTitle>\n        <DialogContent dividers>\n            <NewItemForm onChange={x => setNewItem({ ...newItem, ...x })} storeItem={newItem} />\n        </DialogContent>\n        <DialogActions>\n            <Button onClick={onClose}>Cancel</Button>\n            <Button disabled={!enableAdding} onClick={addItem}>Add</Button>\n        </DialogActions>\n    </Dialog>\n}","import { createStyles, Fab, makeStyles, Theme } from '@material-ui/core';\nimport AddIcon from '@material-ui/icons/AddRounded';\nimport React, { Fragment, useState } from 'react';\nimport { AddItemDialog } from '../../NewItem/AddItemDialog';\n\nconst useStyles = makeStyles((theme: Theme) => createStyles({\n    fab: {\n        position: 'absolute',\n        bottom: theme.spacing(4),\n        right: theme.spacing(4)\n    },\n    fabIcon: {\n        marginRight: theme.spacing(1)\n    }\n}))\n\ninterface Props {\n\n}\n\nexport const AddItemFab = (props: Props) => {\n    const [dialogOpen, setDialogOpen] = useState(false)\n    const classes = useStyles()\n\n    const closeDialog = () => setDialogOpen(false)\n    const openDialog = () => setDialogOpen(true)\n\n    return <Fragment>\n        <Fab color='primary' variant='extended' className={classes.fab} onClick={openDialog}>\n            <AddIcon className={classes.fabIcon} />\n            Add Item\n        </Fab>\n        {dialogOpen && <AddItemDialog open={dialogOpen} onClose={closeDialog} />}\n    </Fragment>\n}","import { Grid } from '@material-ui/core'\nimport React from 'react'\nimport { useSelector } from 'react-redux'\nimport { ItemsState } from '../../../reducers/itemsReducer'\nimport { AppState } from '../../../store/store'\nimport { ItemsSummary } from '../../ItemsSummary/ItemsSummary'\nimport { AddItemFab } from './AddItemFab'\n\nexport const BoughtPage = () => {\n    const { items } = useSelector<AppState, ItemsState>(x => x.itemsState)\n    const unrecievedItems = items.filter(x => !x.recieved)\n\n    return <Grid container>\n        <ItemsSummary items={unrecievedItems} />\n        <AddItemFab />\n    </Grid>\n}","import React from 'react'\nimport { ItemsSummary } from '../../ItemsSummary/ItemsSummary'\nimport { AppState } from '../../../store/store'\nimport { useSelector } from 'react-redux'\nimport { ItemsState } from '../../../reducers/itemsReducer'\n\nexport const RecievedPage = () => {\n    const { items } = useSelector<AppState, ItemsState>(x => x.itemsState)\n    const recievedItems = items.filter(x => x.recieved)\n\n    return <ItemsSummary items={recievedItems} />\n}","import React from 'react';\nimport { HashRouter, Route, Switch } from \"react-router-dom\";\nimport { Alerts } from './components/Alerts/Alerts';\nimport { MainAppBar } from './components/AppBar/MainAppBar';\nimport { BoughtPage } from './components/Pages/BoughtPage.tsx/BoughtPage';\nimport { RecievedPage } from './components/Pages/RecievedPage/RecievedPage';\n\nfunction App() {\n  return <HashRouter>\n    <MainAppBar />\n    <Alerts />\n    <Switch >\n      <Route path='/recieved'>\n        <RecievedPage />\n      </Route>\n      <Route path={['/', '/bought']}>\n        <BoughtPage />\n      </Route>\n    </Switch>\n  </HashRouter>\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { fetchRatesLoop } from './api/exchange-rates-api/fetchRates';\nimport App from './App';\nimport { store } from './store/store';\n\nfetchRatesLoop()\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}